document.addEventListener("DOMContentLoaded",function(e){let t=document,n=new Date().getTimezoneOffset();t.querySelector(".loading");let i=t.getElementById("invoice_id"),l=i?i.value:null,o=(ln=t.getElementById("statusUrl"))?ln.attributes.href.value:null,r=o,u=null,a={method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}};async function c(){a.body=JSON.stringify({invoice:l});let e=await fetch(r,a),t=await e.text();return t}async function s(){if(!r)return;a.body=JSON.stringify({invoice:l,offset:n});let e=await fetch(r,a),i=await e.text(),o=t.getElementById("__apn-invoice");async function s(){if(0===u){clearInterval(processId);return}(u=await c())!==stat&&document.location.reload()}o.outerHTML=i,u=(stn=t.getElementById("statusNum"))?stn.value:0,t.querySelectorAll(".btn__copy").forEach(e=>e.addEventListener("click",function(e){var n;let i;n=this,i=n.firstChild,navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(i.value):(i.type="text",i.focus(),i.select(),t.execCommand("copy"),i.type="hidden"),n.classList.toggle("copied"),setTimeout(function(){n.classList.toggle("copied")},1e3,n)})),function e(){let n=t.querySelector(".btn.toggler");n&&n.addEventListener("click",function(e){t.querySelector(".status-data").classList.toggle("historyFlag")})}(),function e(){if(null===(expire=t.getElementById("expire"))||expire.value<=0)return;let n=t.getElementById("countdown");if(null===n)return;let i=expire.value,l=setInterval(()=>{let e=function(e){return 0|e}(Math.floor(i/86400)),t=function(e){return 0|e}(Math.floor(i%86400/3600)),o=function(e){return 0|e}(Math.floor(i%3600/60)),r=function(e){return 0|e}(Math.floor(i%60));n.innerHTML=(e>0?`${e}d `:"")+(t>0?`${t}h `:"")+(o>0?`${o}m `:"")+`${r}s`,(i-=1)<0&&(clearInterval(l),n.innerHTML="",document.location.reload())},1e3)}(),function e(){let n=t.getElementById("linkback"),i=t.getElementById("linkback-counter");if(null===n||null===i)return;let l=i.innerHTML,o=n.attributes.href.value,r=setInterval(()=>{i.innerHTML=l,0==(l-=1)&&(clearInterval(r),t.location.href=o)},1e3)}(),stat=await c(),u>0&&(processId=setInterval(s,5e3))}function d(e){return 0|e}s()});